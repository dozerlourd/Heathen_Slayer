using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerStat : MonoBehaviour
{
    [Tooltip("이동속도")]
    public float moveSpeed = 5.0f;
    [Tooltip("점프력")]
    public float jumpPower = 5.0f;
    [Tooltip("점프 가능 횟수")]
    public int jumpCount = 2;
    [Tooltip("대쉬 가능 횟수")]
    public int dashCount = 2;
    //[Tooltip("최대 대쉬 횟수")]
    //public int dashMaxCount = 2;
    [Tooltip("대쉬 쿨타임")]
    public float dashCoolDown = 3f;
    [Tooltip("최대 체력")]
    public int maxHP = 100;
    [Tooltip("현재 체력")]
    public int currentHP = 0;

    private void Awake()
    {
        currentHP = maxHP;
    }

    // HP 변동사항
    public void SetHP(int value)
    {
        currentHP += value;
    }

    // 해당 시간만큼 게임 오브젝트를 무적 상태로 설정
    public IEnumerator SetGracePeriod(float gracePeriod)
    {
        float currentTime = 0;

        Physics2D.IgnoreLayerCollision(6, 7, true);

        while (currentTime <= gracePeriod)
        {
            currentTime += Time.deltaTime;

            yield return null;
        }

        Physics2D.IgnoreLayerCollision(6, 7, false);
    }
}
